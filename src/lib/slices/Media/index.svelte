<script lang="ts">
	import { PrismicText, PrismicImage } from '@prismicio/svelte';
	import type { Content } from '@prismicio/client';

	export let slice: Content.MediaSlice;

	const style = slice.primary.style || 'full';
    
    const styleClasses = {
        logo: 'w-full',
        full: 'w-full',
        big: 'w-full px-3 md:px-8',
        inline: 'box'
    }[style];

	const maskPath = `M1684.54 459.399C1683.99 354.241 1683.39 249.083 1682.84 143.925C1682.72 123.178 1683.47 102.392 1679.6 81.8026C1677.31 69.631 1676.17 57.3013 1671.12 45.7225C1663.14 27.5046 1653.11 11.6183 1632.7 5.17686C1628.83 3.9518 1625.2 2.37107 1621.02 2.37107C1599.5 2.48963 1578.02 2.41059 1556.5 2.41059C1553.62 2.41059 1550.82 2.56867 1548.1 3.71469C1536.45 8.61494 1525.39 13.5152 1517.89 25.1335C1510.47 36.5938 1504.82 48.7654 1502.18 61.6088C1497.8 82.6324 1495.9 104.091 1496.65 125.747C1497.13 140.052 1496.97 154.437 1496.81 168.743C1496.81 172.062 1498.71 176.883 1494.95 178.187C1493.3 178.78 1491.72 173.09 1490.57 170.047C1476.08 132.188 1461.79 94.2113 1447.18 56.3924C1442.49 44.2208 1438.74 31.6935 1430.13 21.1422C1419.98 8.7335 1406.99 3.24047 1391.75 2.45011C1379.12 1.81782 1366.41 1.97589 1353.77 2.45011C1342.21 2.84529 1332.26 8.25928 1323.26 14.9378C1319.82 17.467 1318.44 18.0203 1315.16 14.9378C1305.29 5.76964 1293.57 0.0395029 1279.91 -1.52141e-05C1202.72 -0.158088 1125.54 -0.276642 1048.39 -1.52141e-05C1022.02 0.118539 1007.81 13.12 997.702 34.1041C990.912 48.2121 985.424 63.15 985.345 79.392C985.345 83.6599 984.161 87.8884 983.49 92.1563C983.292 93.3023 983.292 94.7645 981.989 95.1597C980.213 95.713 979.423 94.0927 978.752 92.9467C975.278 86.9399 972.08 80.8146 968.527 74.8869C958.301 57.657 950.8 38.9254 938.443 22.881C928.652 10.1562 915.189 4.22843 900.107 4.10987C838.479 3.55662 776.811 4.10987 715.182 3.71469C702.943 3.63566 693.389 9.84 682.888 14.108C682.058 14.4636 681.427 15.2935 680.756 16.0048C668.517 29.0063 660.147 44.5369 656.554 61.6878C653.001 78.6806 650.948 96.0686 650.711 113.575C650.711 115.788 651.817 119.305 649.25 119.898C646.724 120.491 646.171 116.855 645.105 114.919C634.011 94.6064 623.233 74.0965 611.902 53.9027C605.862 43.1143 600.414 32.0097 592.478 22.2487C582.49 9.99808 569.303 4.50505 554.498 4.14939C522.243 3.39855 489.988 3.99132 457.732 3.87276C446.125 3.83325 436.966 10.2352 427.096 14.7798C425.517 15.4911 424.608 17.6251 423.345 19.0082C413.633 29.7967 407.514 42.7981 400.644 55.3649C391.524 72.1206 382.602 89.0344 373.521 105.83C372.81 107.134 372.495 109.544 370.244 108.872C368.705 108.398 369.099 106.462 368.941 105.118C367.994 96.8195 367.204 88.4811 366.059 80.2218C365.072 72.911 364.638 65.3235 362.388 58.3683C358.005 44.7741 352.755 31.654 343.595 20.0752C332.975 6.75759 319.196 0.434685 302.891 0.237094C257.963 -0.237124 213.034 0.158057 168.145 -1.52141e-05C162.46 -1.52141e-05 157.17 0.869384 152.274 3.47758C146.194 6.67855 139.049 7.8641 134.192 13.2781C121.954 26.9514 113.821 42.9167 110.504 60.7789C107.188 78.7992 104.503 97.0171 105.056 115.551C105.648 135.389 105.017 155.227 105.411 175.065C105.885 198.184 104.306 221.302 108.136 244.42C110.781 260.504 112.755 276.627 120.414 291.209C126.06 301.919 132.021 312.707 143.273 318.911C145.721 320.255 146.076 322.587 146.115 325.076C146.352 355.189 146.629 385.302 146.747 415.415C146.747 421.145 145.839 421.58 140.43 419.564C134.627 417.43 129.139 414.545 122.625 414.624C101.582 414.822 80.5784 414.466 59.5355 414.822C48.9943 415.02 39.1242 419.248 31.2677 425.69C24.0033 431.617 18.9894 440.114 14.6465 448.768C2.96042 472.084 0.473173 497.455 0.196812 522.628C-0.434871 580.443 0.710054 638.297 1.02589 696.112C1.06538 704.964 1.69706 713.777 2.32874 722.589C4.02639 744.996 9.00089 766.376 20.0553 786.135C37.9398 817.986 55.4295 850.036 73.7089 881.65C79.9862 892.518 87.6453 902.397 100.911 906.705C108.451 909.155 115.597 911.565 123.691 911.486C154.051 911.21 184.372 911.328 214.732 911.447C219.351 911.447 223.733 910.854 227.958 908.918C232.498 906.823 237.117 904.847 241.736 902.911C243.947 901.962 246.158 900.856 247.579 898.88C252.87 891.53 258.91 884.812 263.332 876.75C279.045 848.099 295.39 819.725 311.024 791.035C319.473 775.544 327.369 759.737 329.027 741.637C329.303 738.555 327.724 733.615 331.475 732.864C334.988 732.192 335.936 737.251 337.476 740.017C358.598 777.717 379.404 815.576 400.683 853.157C408.422 866.831 415.054 881.136 425.043 893.545C434.755 905.638 447.744 911.21 462.233 911.605C494.488 912.435 526.744 911.763 558.999 911.961C564.684 911.961 569.856 910.933 574.87 908.483C578.305 906.823 581.739 905.124 585.332 903.78C588.846 902.476 591.609 900.421 593.86 897.497C598.676 891.253 603.572 885.088 607.323 878.133C615.732 862.602 624.26 847.111 632.787 831.66C638.433 821.424 644.118 811.229 649.843 800.993C650.514 799.768 651.067 797.99 652.764 798.385C654.383 798.78 654.462 800.559 654.462 801.981C654.462 816.88 657.383 831.422 658.805 846.163C659.278 851.261 660.739 855.963 662.634 860.587C664.332 864.776 665.951 869.004 667.846 873.114C674.636 887.854 682.572 901.212 699.272 907.179C706.339 909.708 712.971 912.039 720.591 911.881C736.818 911.526 753.083 911.526 769.349 911.881C778.627 912.079 787.352 911.052 795.485 906.27C799.551 903.899 804.526 903.227 807.961 899.512C820.555 885.799 828.964 869.557 832.478 851.656C835.597 835.809 837.531 819.607 837.413 803.246C837.058 749.936 836.939 696.666 836.781 643.356C836.781 635.452 837.018 635.175 844.756 635.136C862.917 635.057 881.078 634.583 899.239 635.294C911.122 635.768 921.111 631.224 931.376 626.758C933.35 625.889 935.087 624.505 936.35 622.727C941.917 614.982 948.273 607.829 952.616 599.214C958.775 587.082 965.289 575.147 971.724 563.134C974.646 557.641 977.686 552.227 980.686 546.813C981.279 545.785 982.029 544.639 983.411 544.837C984.911 545.074 984.95 546.497 985.029 547.643C985.187 550.014 985.266 552.424 985.266 554.795C985.542 627.43 985.898 700.104 985.937 772.738C985.937 796.172 986.845 819.409 990.912 842.606C994.07 860.666 1000.31 876.868 1011.24 891.53C1021.19 904.926 1035.05 910.933 1050.68 911.052C1127.87 911.526 1205.05 911.249 1282.2 911.289C1296.69 911.289 1308.89 905.519 1319.78 896.509C1321.68 894.928 1323.37 893.743 1325.23 895.995C1332.02 904.254 1342.6 905.519 1351.33 910.182C1353.5 911.328 1355.95 911.289 1358.35 911.289C1379.16 911.289 1399.93 911.644 1420.69 911.131C1431.67 910.854 1442.29 906.033 1450.03 899.196C1464.08 886.748 1472.1 869.518 1475.77 851.379C1480.11 829.921 1482.6 808.028 1481.61 785.898C1481.02 772.778 1481.37 759.618 1481.37 746.458C1481.37 744.324 1481.45 742.151 1481.65 740.017C1481.73 739.148 1481.89 738.002 1483.03 737.804C1484.22 737.606 1484.57 738.634 1484.93 739.503C1485.48 740.807 1486.03 742.151 1486.55 743.495C1503.29 787.123 1519.91 830.83 1536.88 874.418C1542.57 889.04 1551.29 900.816 1567.12 906.625C1574.9 909.471 1582.32 911.605 1590.62 911.368C1601.59 911.052 1612.61 911.17 1623.58 911.368C1627.73 911.407 1631.64 910.656 1635.39 908.997C1640.4 906.744 1645.45 904.61 1650.47 902.397C1652.68 901.449 1654.61 900.105 1656.23 898.287C1668.9 883.784 1677.79 867.147 1681.26 848.297C1683.87 834.031 1686.04 819.527 1686.04 804.906V459.32C1685.57 459.32 1685.05 459.32 1684.58 459.32L1684.54 459.399ZM512.452 576.333C510.122 579.889 507.675 578.98 505.819 575.898C501.595 569.022 498.12 562.264 498.16 553.412C498.357 489.867 498.12 426.282 497.528 362.737C497.449 354.201 501.713 348.353 505.582 341.911C507.043 339.5 509.293 339.817 510.754 342.148C514.623 348.353 518.808 354.083 518.69 362.302L519.519 459.794C519.519 492.041 519.361 524.327 519.637 556.574C519.716 564.319 516.4 570.326 512.491 576.333H512.452ZM1298.26 587.714C1298.26 589.888 1296.49 591.666 1294.32 591.666H1269.76C1267.59 591.666 1265.81 589.888 1265.81 587.714V573.962C1265.81 571.788 1267.59 570.01 1269.76 570.01H1294.32C1296.49 570.01 1298.26 571.788 1298.26 573.962V587.714ZM1298.26 288.996C1298.26 291.17 1296.49 292.948 1294.32 292.948H1269.76C1267.59 292.948 1265.81 291.17 1265.81 288.996V275.244C1265.81 273.07 1267.59 271.292 1269.76 271.292H1294.32C1296.49 271.292 1298.26 273.07 1298.26 275.244V288.996Z`; // your existing path data
</script>

<section class="pb-28 {styleClasses}" data-id={slice.primary.hash}>
	{#if style != 'logo'}
		<div class="{style == 'box' ? 'md:px-8' : ''}" data-aos="fade-up">
			<div class="{style == 'full' ? 'rounded-none' : 'rounded-lg border border-neutral-200 overflow-hidden'} h-auto">
				{#if slice.primary.video}
					<video src={slice.primary.video} poster={slice.primary.image.url} class="w-full h-auto" playsinline autoplay muted loop />
				{:else}
					<PrismicImage class="w-full h-auto " field={slice.primary.image} />
				{/if}
			</div>

			<div class="mx-auto text-neutral-500 pt-3 text-sm text-center mx-auto md:w-8/12">
				<PrismicText field={slice.primary.text} />
			</div>
		</div>
	{:else}
		<div class="px-8 mb-12 w-full relative">
			<div 
				class="w-full aspect-[1686/912]"
				style="
					mask-image: url('data:image/svg+xml;utf8,<svg viewBox=\'0 0 1686 912\' xmlns=\'http://www.w3.org/2000/svg\'><path d=\'{maskPath}\' fill=\'white\'/></svg>');
					-webkit-mask-image: url('data:image/svg+xml;utf8,<svg viewBox=\'0 0 1686 912\' xmlns=\'http://www.w3.org/2000/svg\'><path d=\'{maskPath}\' fill=\'white\'/></svg>');
					mask-size: contain;
					-webkit-mask-size: contain;
					mask-repeat: no-repeat;
					-webkit-mask-repeat: no-repeat;
					mask-position: center;
					-webkit-mask-position: center;
				"
			>
				{#if slice.primary.video}
					<video 
						src={slice.primary.video} 
						poster={slice.primary.image.url} 
						class="w-full h-full object-cover" 
						playsinline 
						autoplay 
						muted 
						loop 
					/>
				{:else}
					<PrismicImage 
						class="w-full h-full object-cover" 
						field={slice.primary.image} 
					/>
				{/if}
			</div>
		</div>
	{/if}
</section>

